<extend name="Base/main" />

<block name="body">
<div class="login_bar" id="login_bar">
	<div class="registered">
        <h2>密码修改</h2>
        <form class="login-form" action="{:U('Home/User/profile')}" method="post">
              <input type="password" placeholder="请输入原密码" name="old">
              <input type="password" placeholder="请输入新密码" name="password">
              <input type="password" placeholder="请再次输入密码" name="repassword">
              <span id="abc">　</span>
              <input type="submit" class="submit" name="submit" value="确 定"/>
        </form>
	</div>
</div>
</block>

<block name="script">
<script>
    var oH = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;
    document.getElementsByTagName('body')[0].style.height = oH + 'px';
    document.getElementById('login_bar').style.height = (oH - 174) + 'px';

    var fm=document.getElementsByTagName('form')[0];

    fm.onsubmit=function(){
        if (fm.old.value == '') {
            // alert('用户名不得为空!');
            document.getElementById('abc').innerHTML='请输入密码!';
            fm.old.focus(); //将焦点以至表单字段
            return false;
        }

        if (fm.password.value == '') {
            document.getElementById('abc').innerHTML='请输入新密码!';
            fm.password.focus(); //将焦点以至表单字段
            return false;
        }

        if (fm.repassword.value == '') {
            document.getElementById('abc').innerHTML='请再次输入密码!';
            fm.repassword.focus(); //将焦点以至表单字段
            return false;
        }
        if(fm.old.value.length < 6 || fm.password.value.length < 6 || fm.repassword.value.length < 6){
            document.getElementById('abc').innerHTML='密码不能小于6位!';
            return false;
        }
        if(fm.password.value != fm.repassword.value){
            document.getElementById('abc').innerHTML='两次输入的密码不一致!';
            return false;
        }
        return true;
    };

</script>
</block>